function factory(){"use strict";var e=sortable(),t="Sortable:ng-sortable";angular.module("ng-sortable",[]).constant("ngSortableVersion","0.4.0").constant("ngSortableConfig",{}).directive("ngSortable",["$parse","ngSortableConfig",function(n,o){var i,a,r=function(e,t){var o=[].filter.call(e.childNodes,function(e){return 8===e.nodeType&&-1!==e.nodeValue.indexOf("ngRepeat:")})[0];if(!o)return function(){return null};o=o.nodeValue.match(/ngRepeat:\s*(?:\(.*?,\s*)?([^\s)]+)[\s)]+in\s+([^\s|]+)/);var i=n(o[2]);return function(){return i(t.$parent)||[]}};return{restrict:"AC",scope:{ngSortable:"=?"},link:function(n,s){function l(e,t){var n="on"+e.type.charAt(0).toUpperCase()+e.type.substr(1),o=h();p[n]&&p[n]({model:t||o[e.newIndex],models:o,oldIndex:e.oldIndex,newIndex:e.newIndex})}function c(o){var r=h();if(r){var s=o.oldIndex,l=o.newIndex;if(d!==o.from){var c=o.from[t]();i=c[s],o.clone?(i=angular.copy(i),c.splice(e.utils.index(o.clone),0,c.splice(s,1)[0]),o.from.removeChild(o.clone)):c.splice(s,1),r.splice(l,0,i),o.from.insertBefore(o.item,a)}else r.splice(l,0,r.splice(s,1)[0]);n.$apply()}}var u,d=s[0],p=angular.extend(n.ngSortable||{},o),f=[],h=r(d,n);d[t]=h,u=e.create(d,Object.keys(p).reduce(function(e,t){return e[t]=e[t]||p[t],e},{onStart:function(e){a=e.item.nextSibling,l(e),n.$apply()},onEnd:function(e){l(e,i),n.$apply()},onAdd:function(e){c(e),l(e,i),n.$apply()},onUpdate:function(e){c(e),l(e)},onRemove:function(e){l(e,i)},onSort:function(e){l(e)}})),s.on("$destroy",function(){angular.forEach(f,function(e){e()}),u.destroy(),d[t]=null,d=null,f=null,u=null,a=null}),angular.forEach(["sort","disabled","draggable","handle","animation","group","ghostClass","filter","onStart","onEnd","onAdd","onUpdate","onRemove","onSort"],function(e){f.push(n.$watch("ngSortable."+e,function(t){void 0!==t&&(p[e]=t,/^on[A-Z]/.test(e)||u.option(e,t))}))})}}}])}function sortable(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=v({},t),e[k]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var o in n)!(o in t)&&(t[o]=n[o]);P(t);for(var a in this)"_"===a.charAt(0)&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:U,i(e,"mousedown",this._onTapStart),i(e,"touchstart",this._onTapStart),this.nativeDraggable&&(i(e,"dragover",this),i(e,"dragenter",this)),V.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){w&&w.state!==e&&(s(w,"display",e?"none":""),!e&&w.state&&_.insertBefore(w,y),w.state=e)}function n(e,t,n){if(e){n=n||X,t=t.split(".");var o=t.shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do if(">*"===o&&e.parentNode===n||(""===o||e.nodeName.toUpperCase()==o)&&(!t.length||((" "+e.className+" ").match(i)||[]).length==t.length))return e;while(e!==n&&(e=e.parentNode))}return null}function o(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function i(e,t,n){e.addEventListener(t,n,!1)}function a(e,t,n){e.removeEventListener(t,n,!1)}function r(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(R," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(R," ")}}function s(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return X.defaultView&&X.defaultView.getComputedStyle?n=X.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function l(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,a=o.length;if(n)for(;a>i;i++)n(o[i],i);return o}return[]}function c(e,t,n,o,i,a,r){var s=X.createEvent("Event"),l=(e||t[k]).options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=t,s.from=i||t,s.item=o||t,s.clone=w,s.oldIndex=a,s.newIndex=r,t.dispatchEvent(s),l[c]&&l[c].call(e,s)}function u(e,t,n,o,i,a){var r,s,l=e[k],c=l.options.onMove;return r=X.createEvent("Event"),r.initEvent("move",!0,!0),r.to=t,r.from=e,r.dragged=n,r.draggedRect=o,r.related=i||t,r.relatedRect=a||t.getBoundingClientRect(),e.dispatchEvent(r),c&&(s=c.call(l,r)),s}function d(e){e.draggable=!1}function p(){F=!1}function f(e,t){var n=e.lastElementChild,o=n.getBoundingClientRect();return(t.clientY-(o.top+o.height)>5||t.clientX-(o.right+o.width)>5)&&n}function h(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function m(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function g(e,t){var n,o;return function(){void 0===n&&(n=arguments,o=this,setTimeout(function(){1===n.length?e.call(o,n[0]):e.apply(o,n),n=void 0},t))}}function v(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var y,b,D,w,_,S,C,T,L,E,x,A,M,B,I,O,$,N={},R=/\s+/g,k="Sortable"+(new Date).getTime(),H=window,X=H.document,Y=H.parseInt,U=!!("draggable"in X.createElement("div")),j=function(e){return e=X.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),F=!1,W=Math.abs,V=([].slice,[]),q=g(function(e,t,n){if(n&&t.scroll){var o,i,a,r,s=t.scrollSensitivity,l=t.scrollSpeed,c=e.clientX,u=e.clientY,d=window.innerWidth,p=window.innerHeight;if(T!==n&&(C=t.scroll,T=n,C===!0)){C=n;do if(C.offsetWidth<C.scrollWidth||C.offsetHeight<C.scrollHeight)break;while(C=C.parentNode)}C&&(o=C,i=C.getBoundingClientRect(),a=(W(i.right-c)<=s)-(W(i.left-c)<=s),r=(W(i.bottom-u)<=s)-(W(i.top-u)<=s)),a||r||(a=(s>=d-c)-(s>=c),r=(s>=p-u)-(s>=u),(a||r)&&(o=H)),N.vx===a&&N.vy===r&&N.el===o||(N.el=o,N.vx=a,N.vy=r,clearInterval(N.pid),o&&(N.pid=setInterval(function(){o===H?H.scrollTo(H.pageXOffset+a*l,H.pageYOffset+r*l):(r&&(o.scrollTop+=r*l),a&&(o.scrollLeft+=a*l))},24)))}},30),P=function(e){var t=e.group;t&&"object"==typeof t||(t=e.group={name:t}),["pull","put"].forEach(function(e){e in t||(t[e]=!0)}),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};return e.prototype={constructor:e,_onTapStart:function(e){var t=this,o=this.el,i=this.options,a=e.type,r=e.touches&&e.touches[0],s=(r||e).target,l=s,u=i.filter;if(!("mousedown"===a&&0!==e.button||i.disabled)&&(s=n(s,i.draggable,o))){if(A=m(s),"function"==typeof u){if(u.call(this,e,s,this))return c(t,l,"filter",s,o,A),void e.preventDefault()}else if(u&&(u=u.split(",").some(function(e){return e=n(l,e.trim(),o),e?(c(t,e,"filter",s,o,A),!0):void 0})))return void e.preventDefault();i.handle&&!n(l,i.handle,o)||this._prepareDragStart(e,r,s)}},_prepareDragStart:function(e,t,n){var o,a=this,s=a.el,c=a.options,u=s.ownerDocument;n&&!y&&n.parentNode===s&&(I=e,_=s,y=n,b=y.parentNode,S=y.nextSibling,B=c.group,o=function(){a._disableDelayedDrag(),y.draggable=!0,r(y,a.options.chosenClass,!0),a._triggerDragStart(t)},c.ignore.split(",").forEach(function(e){l(y,e.trim(),d)}),i(u,"mouseup",a._onDrop),i(u,"touchend",a._onDrop),i(u,"touchcancel",a._onDrop),c.delay?(i(u,"mouseup",a._disableDelayedDrag),i(u,"touchend",a._disableDelayedDrag),i(u,"touchcancel",a._disableDelayedDrag),i(u,"mousemove",a._disableDelayedDrag),i(u,"touchmove",a._disableDelayedDrag),a._dragStartTimer=setTimeout(o,c.delay)):o())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),a(e,"mouseup",this._disableDelayedDrag),a(e,"touchend",this._disableDelayedDrag),a(e,"touchcancel",this._disableDelayedDrag),a(e,"mousemove",this._disableDelayedDrag),a(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(I={target:y,clientX:e.clientX,clientY:e.clientY},this._onDragStart(I,"touch")):this.nativeDraggable?(i(y,"dragend",this),i(_,"dragstart",this._onDragStart)):this._onDragStart(I,!0);try{X.selection?X.selection.empty():window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){_&&y&&(r(y,this.options.ghostClass,!0),e.active=this,c(this,_,"start",y,_,A))},_emulateDragOver:function(){if(O){if(this._lastX===O.clientX&&this._lastY===O.clientY)return;this._lastX=O.clientX,this._lastY=O.clientY,j||s(D,"display","none");var e=X.elementFromPoint(O.clientX,O.clientY),t=e,n=" "+this.options.group.name,o=V.length;if(t)do{if(t[k]&&t[k].options.groups.indexOf(n)>-1){for(;o--;)V[o]({clientX:O.clientX,clientY:O.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);j||s(D,"display","")}},_onTouchMove:function(t){if(I){e.active||this._dragStarted(),this._appendGhost();var n=t.touches?t.touches[0]:t,o=n.clientX-I.clientX,i=n.clientY-I.clientY,a=t.touches?"translate3d("+o+"px,"+i+"px,0)":"translate("+o+"px,"+i+"px)";$=!0,O=n,s(D,"webkitTransform",a),s(D,"mozTransform",a),s(D,"msTransform",a),s(D,"transform",a),t.preventDefault()}},_appendGhost:function(){if(!D){var e,t=y.getBoundingClientRect(),n=s(y),o=this.options;D=y.cloneNode(!0),r(D,o.ghostClass,!1),r(D,o.fallbackClass,!0),s(D,"top",t.top-Y(n.marginTop,10)),s(D,"left",t.left-Y(n.marginLeft,10)),s(D,"width",t.width),s(D,"height",t.height),s(D,"opacity","0.8"),s(D,"position","fixed"),s(D,"zIndex","100000"),s(D,"pointerEvents","none"),o.fallbackOnBody&&X.body.appendChild(D)||_.appendChild(D),e=D.getBoundingClientRect(),s(D,"width",2*t.width-e.width),s(D,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,o=this.options;this._offUpEvents(),"clone"==B.pull&&(w=y.cloneNode(!0),s(w,"display","none"),_.insertBefore(w,y)),t?("touch"===t?(i(X,"touchmove",this._onTouchMove),i(X,"touchend",this._onDrop),i(X,"touchcancel",this._onDrop)):(i(X,"mousemove",this._onTouchMove),i(X,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",o.setData&&o.setData.call(this,n,y)),i(X,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var o,i,a,r=this.el,l=this.options,c=l.group,d=c.put,h=B===c,m=l.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),!l.dragoverBubble&&e.stopPropagation()),$=!0,B&&!l.disabled&&(h?m||(a=!_.contains(y)):B.pull&&d&&(B.name===c.name||d.indexOf&&~d.indexOf(B.name)))&&(void 0===e.rootEl||e.rootEl===this.el)){if(q(e,l,this.el),F)return;if(o=n(e.target,l.draggable,r),i=y.getBoundingClientRect(),a)return t(!0),void(w||S?_.insertBefore(y,w||S):m||_.appendChild(y));if(0===r.children.length||r.children[0]===D||r===e.target&&(o=f(r,e))){if(o){if(o.animated)return;v=o.getBoundingClientRect()}t(h),u(_,r,y,i,o,v)!==!1&&(y.contains(r)||(r.appendChild(y),b=r),this._animate(i,y),o&&this._animate(v,o))}else if(o&&!o.animated&&o!==y&&void 0!==o.parentNode[k]){L!==o&&(L=o,E=s(o),x=s(o.parentNode));var g,v=o.getBoundingClientRect(),C=v.right-v.left,T=v.bottom-v.top,A=/left|right|inline/.test(E.cssFloat+E.display)||"flex"==x.display&&0===x["flex-direction"].indexOf("row"),M=o.offsetWidth>y.offsetWidth,I=o.offsetHeight>y.offsetHeight,O=(A?(e.clientX-v.left)/C:(e.clientY-v.top)/T)>.5,N=o.nextElementSibling,R=u(_,r,y,i,o,v);if(R!==!1){if(F=!0,setTimeout(p,30),t(h),1===R||-1===R)g=1===R;else if(A){var H=y.offsetTop,X=o.offsetTop;g=H===X?o.previousElementSibling===y&&!M||O&&M:X>H}else g=N!==y&&!I||O&&I;y.contains(r)||(g&&!N?r.appendChild(y):o.parentNode.insertBefore(y,g?N:o)),b=y.parentNode,this._animate(i,y),this._animate(v,o)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var o=t.getBoundingClientRect();s(t,"transition","none"),s(t,"transform","translate3d("+(e.left-o.left)+"px,"+(e.top-o.top)+"px,0)"),t.offsetWidth,s(t,"transition","all "+n+"ms"),s(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){s(t,"transition",""),s(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;a(X,"touchmove",this._onTouchMove),a(e,"mouseup",this._onDrop),a(e,"touchend",this._onDrop),a(e,"touchcancel",this._onDrop)},_onDrop:function(t){var n=this.el,o=this.options;clearInterval(this._loopId),clearInterval(N.pid),clearTimeout(this._dragStartTimer),a(X,"mousemove",this._onTouchMove),this.nativeDraggable&&(a(X,"drop",this),a(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&($&&(t.preventDefault(),!o.dropBubble&&t.stopPropagation()),D&&D.parentNode.removeChild(D),y&&(this.nativeDraggable&&a(y,"dragend",this),d(y),r(y,this.options.ghostClass,!1),r(y,this.options.chosenClass,!1),_!==b?(M=m(y),M>=0&&(c(null,b,"sort",y,_,A,M),c(this,_,"sort",y,_,A,M),c(null,b,"add",y,_,A,M),c(this,_,"remove",y,_,A,M))):(w&&w.parentNode.removeChild(w),y.nextSibling!==S&&(M=m(y),M>=0&&(c(this,_,"update",y,_,A,M),c(this,_,"sort",y,_,A,M)))),e.active&&(null!==M&&-1!==M||(M=A),c(this,_,"end",y,_,A,M),this.save())),_=y=b=D=S=w=C=T=I=O=$=M=L=E=B=e.active=null)},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?y&&(this._onDragOver(e),o(e)):"drop"!==t&&"dragend"!==t||this._onDrop(e)},toArray:function(){for(var e,t=[],o=this.el.children,i=0,a=o.length,r=this.options;a>i;i++)e=o[i],n(e,r.draggable,this.el)&&t.push(e.getAttribute(r.dataIdAttr)||h(e));return t},sort:function(e){var t={},o=this.el;this.toArray().forEach(function(e,i){var a=o.children[i];n(a,this.options.draggable,o)&&(t[e]=a)},this),e.forEach(function(e){t[e]&&(o.removeChild(t[e]),o.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&P(n)))},destroy:function(){var e=this.el;e[k]=null,a(e,"mousedown",this._onTapStart),a(e,"touchstart",this._onTapStart),this.nativeDraggable&&(a(e,"dragover",this),a(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),V.splice(V.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:i,off:a,css:s,find:l,is:function(e,t){return!!n(e,t,e)},extend:v,throttle:g,closest:n,toggleClass:r,index:m},e.create=function(t,n){return new e(t,n)},e.version="1.4.2",e}!function(){"use strict";angular.module("app",["os-esri-components"])}()(function(){function e(){function e(e,t){var n=this;n.showContainer=n.containerIsShown,n.turnOffCotinaer=function(){n.showContainer=!1,n.containerVisability({visible:n.showContainer})},n.$onChanges=function(e){n.showContainer=n.containerIsShown}}return{templateUrl:"controlcontiner.html",controller:e,transclude:!0,controllerAs:"vm",bindings:{containerIsShown:"<",isDraggable:"<",containerTitle:"@",containerVisability:"&"}}}angular.module("app").component("controlContainer",e())}()),factory(),function(){"use strict";angular.module("os-esri-components",["ng-sortable","ngTouchstart"])}()(function(){function e(){function e(e,t,n){var o=this;o.maps=o.baseMaps||["streets","satellite","hybrid","topo","gray","terrain"],console.log(o.baseMaps),o.changeBaseMap=function(e){n.getMap().setBasemap(e)}}return{templateUrl:"basemaps.html",controller:e,controllerAs:"vm",bindings:{baseMaps:"<"}}}angular.module("os-esri-components").component("osBasemapToggle",e())}())(function(){function e(){function e(e,t){var n=this;n.$postLink=function(){var e=n.infoTemplate?n.infoTemplate:void 0;t.addFeatureLayer(n.furl,n.fname,e).then(function(e){var t=e;t.on("click",function(e){n.fclick({evt:e})})})}}return{controller:e,controllerAs:"vm",bindings:{furl:"@",fname:"@",infoTemplate:"<",fclick:"&"}}}angular.module("os-esri-components").component("osFeatureLayer",e())}())(function(){"use strict";function e(e,t,n){function o(){function e(){a>=o&&n.reject("max retry count reached"),i.map&&i.map.loaded?n.resolve("map loaded"):setTimeout(function(){e()},100),a++}var n=t.defer(),o=10,a=0;return e(),n.promise}var i=this;this.map,this.isMapLoaded=!1,this.layers=[];var a;require(["esri/map","esri/layers/FeatureLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/InfoTemplate","dojo/domReady!"],function(e,t,n,o){a=e,i.newFeatureLayer=t,i.newDynamicLayer=n,i.newInfoTemplate=o}),this.createMap=function(t){return a?(this.map=new a("map",t),this.map.on("layers-removed",function(t){e.$emit("os-map-layerremove",{map:this.map,evt:t})}),this.map.on("load",function(t){e.$emit("os-map-loaded",{evt:t,map:this.map})}),this.map.on("layer-add",function(t){e.$emit("os-map-layeradd",{map:this.map,evt:t})}),this.map):void setTimeout(function(){i.createMap(t)},200)},this.getMap=function(e){return this.map},this.addFeatureLayer=function(e,t,n){return o().then(function(){var o={mode:i.newFeatureLayer.MODE_SNAPSHOT,outFields:["*"],infoTemplate:n?new i.newInfoTemplate(n):""},a=i.newFeatureLayer(e,o);return i.map.addLayer(a),i.layers.push({id:a.id,name:t||" ",type:"FeatureLayer",visible:a.visible,opacity:a.opacity}),console.log(i.layers),a})},this.addDynamicLayer=function(e,t){return o().then(function(){var n=i.newDynamicLayer(e);return i.map.addLayer(n),i.layers.push({id:n.id,name:t||" ",type:"DynamicLayer",visible:n.visible,opacity:n.opacity}),n})},this.getLayer=function(e){var t=this.layers.filter(function(t,n,o){return t.name===e});return t[0]},this.getLayers=function(){return this.layers}}angular.module("os-esri-components").service("OsMapService",e)}()),function(){function e(){function e(e,t){var n=this;n.$postLink=function(){e.$on("os-map-loaded",function(e,n){require(["esri/dijit/HomeButton","dojo/domReady!"],function(e){var n=new e({map:t.getMap()},"HomeButton");n.startup()})})}}return{controller:e,controllerAs:"vm",bindings:{osClass:"@"},template:'<div id="HomeButton" class = "{{vm.osClass}}"> </div>'}}angular.module("os-esri-components").component("osHomeButton",e())}()(function(){function e(){function e(e,t,n){function o(e){a.layers=[],n.getLayers().forEach(function(e,t,o){var r=n.getLayer(e.name);i(r)&&(console.log(r.visible),a.layers.push({name:e.name||r._attrs.name||r.id,id:r.id,opacity:r.opacity,visible:r.visible}),a.test[r.id]=r.opacity),setTimeout(function(e){componentHandler.upgradeAllRegistered()},200)})}function i(e){var t=a.layers.map(function(e){return e.id});return-1===t.indexOf(e.id)}var a=this;a.test={},a.layers=[],a.map=n.getMap(),a.barConfig={group:"foobar",animation:150,disabled:!1,onSort:function(e){a.layers.forEach(function(e,t,o){var i=n.getMap().getLayer(e.id);n.getMap().reorderLayer(i,t)})}},t.$watch("vm.test",function(e,t){for(var o in e)if(e[o]!==t[o]){var i=n.getMap().getLayer(o);i.setOpacity(e[o])}console.log("vm.test"),console.log(e)},!0),a.stop=function(e){a.barConfig.disabled=!0},a.start=function(){a.barConfig.disabled=!1},a.setopacity=function(e,t){},a.setViz=function(e,t){var o=n.getMap().getLayer(e);o.setVisibility(t.target.checked)},a.finished=function(){setTimeout(function(e){componentHandler.upgradeAllRegistered()},200)},e.$on("os-map-loaded",function(e,t){o(n.getMap())}),e.$on("os-map-layeradd",function(){o(n.getMap())})}return{controller:e,controllerAs:"vm",bindings:{osClass:"@",isSortable:"<",layers:"<"},templateUrl:"layerlist.html"}}angular.module("os-esri-components").component("osLayerList",e())}())(function(){function e(){function e(e,t){var n=this;n.$onInit=function(){e.$on("os-map-loaded",function(e,n){require(["esri/dijit/LocateButton"],function(e){var n=new e({map:t.getMap()},"LocateButton");n.startup()})})}}return{controller:e,controllerAs:"vm",bindings:{osClass:"@"},template:'<div id="LocateButton" class = "{{vm.osClass}}"> </div>'}}angular.module("os-esri-components").component("osLocateButton",e())}())(function(){"use strict";function e(){function e(e,t){var n,o=this;n=t.createMap(o.mapDefination),o.$onInit=function(){}}return{bindings:{mapDefination:"<"},controller:e,controllerAs:"vm",transclude:!0,template:"<div id= 'map' ><ng-transclude> </ng-transclude> </div>"}}angular.module("os-esri-components").component("osMap",e())}())(function(){"use strict";function e(){function e(){}function t(e,t,n){console.log("hello mdl directive"),console.log(n);var o=n.mdlLoader;console.log(o),console.log(e.layers),Array.isArray(o)?e.$watchCollection(o,function(){componentHandler.upgradeAllRegistered()}):e.$watch(o,function(){componentHandler.upgradeAllRegistered()}),setTimeout(function(){componentHandler.upgradeAllRegistered()},0)}return console.log("activate mdl directive"),{bindToController:!0,controller:e,controllerAs:"Ctrl",link:t,restrict:"A",scope:!0}}console.log("activate mdl declared"),angular.module("os-esri-components").directive("mdlLoader",e)}()),function(){function e(){function e(e,t){var n=this;n.$postLink=function(){t.addDynamicLayer(n.durl,n.dname)}}return{controller:e,controllerAs:"vm",bindings:{durl:"@",dname:"@",osInfoTemplateTitle:"@",osInfoTemplateBody:"@"},require:{mapCtrl:"^osMap"}}}angular.module("os-esri-components").component("osDynamicLayer",e())}()(function(){function e(){function e(){var e=this;e.$postLink=function(){require(["esri/dijit/Search","dojo/domReady!"],function(t){var n=new t({enableButtonMode:!0,enableLabel:!1,enableInfoWindow:!0,showInfoWindowOnSelect:!1,map:e.mapCtrl.map},"search");n.startup()})}}return{template:'<div id="search"></div>',controller:e,controllerAs:"vm",bindings:{},require:{mapCtrl:"^osMap"}}}angular.module("os-esri-components").component("osSearch",e())}())(function(){function e(){return{bindings:{},require:{parent:"^osMap"},template:"<h1> Hello from angualr </h1>",controller:function(){var e=this;console.log(e.parent)},controllerAs:"vm"}}angular.module("os-esri-components").component("testComponent",e())}()),angular.module("os-esri-components").directive("ngDraggable",function(e,t){function n(t,n,o){function i(e){c=e.pageY-s,l=e.pageX-r,n.css({top:c+"px",left:l+"px"})}function a(){e.unbind("mousemove",i),e.unbind("mouseup",a)}var r=0,s=0,l=0,c=0;n.on("mousedown",function(t){r=t.pageX-l,s=t.pageY-c,e.on("mousemove",i),e.on("mouseup",a)})}return{link:n}}),function(){"use strict";function e(e,t,n){function o(){}var i=this;i.showLayers=!1,i.showBasemaps=!1,o(),i.maps=["streets","satellite"],i.wellsInfo={title:"Wells",content:"Current Owner: ${CURR_OWNER}</br>Original Owner: ${ORIG_OWNER}</br>ID : ${well_id} </br>USE: ${USE_ }</br>"},i.togleLayers=function(e){i.showLayers=!i.showLayers},i.togleLayers=function(e){i.showLayers=!i.showLayers},i.toggleBaseMaps=function(){i.showBasemaps=!i.showBasemaps},i.bMapShow=function(e){i.showBasemaps=e},i.layersShow=function(e){i.showLayers=e},i.testClick=function(e){console.log("test click"),console.log(e),alert(JSON.stringify(e.graphic.geometry)),alert(JSON.stringify(e.graphic.attributes))}}angular.module("os-esri-components").controller("main",e),e.$inject=["$scope","$rootScope","OsMapService"]}();